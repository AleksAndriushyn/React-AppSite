(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[3],{304:function(t,e,s){t.exports={profileForm:"ProfileForm_profileForm__2bxzt",changeContact:"ProfileForm_changeContact__1MJlS",contact:"ProfileForm_contact__2pLCD",saveBtn:"ProfileForm_saveBtn__3owiJ"}},308:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__dJfuW",imgBlock:"ProfileInfo_imgBlock__1bnqL",mainPhoto:"ProfileInfo_mainPhoto__29CDP",changePhoto:"ProfileInfo_changePhoto__3dlKP",infoBlock:"ProfileInfo_infoBlock__3rDv_"}},309:function(t,e,s){t.exports={statusBlock:"ProfileStatus_statusBlock__DQFdj",statusChange:"ProfileStatus_statusChange__2-_7v"}},310:function(t,e,s){t.exports={profileBlock:"ProfileBlock_profileBlock__OUl-X",btnBlock:"ProfileBlock_btnBlock__2dSVA",editInfoBtn:"ProfileBlock_editInfoBtn__345BM"}},311:function(t,e,s){t.exports={postForm:"AddPostForm_postForm__2aSMx",postText:"AddPostForm_postText__3c7Fo",addPostBtn:"AddPostForm_addPostBtn__37Ajm"}},312:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__1zVhW"}},313:function(t,e,s){t.exports={item:"Post_item__25Ox6",itemImg:"Post_itemImg__22juu",itemMessage:"Post_itemMessage__2_wsI",itemLikes:"Post_itemLikes__1PIBa"}},315:function(t,e,s){"use strict";s.r(e);var c=s(4),o=s(39),i=s(40),n=s(42),a=s(41),r=s(1),l=s.n(r),j=s(22),d=s(308),u=s.n(d),b=s(75),h=s(309),f=s.n(h),p=s(0),O=function(t){var e=Object(r.useState)(!1),s=Object(j.a)(e,2),c=s[0],o=s[1],i=Object(r.useState)(t.status),n=Object(j.a)(i,2),a=n[0],l=n[1];Object(r.useEffect)((function(){l(t.status)}),[t.status]);return Object(p.jsxs)("div",{className:f.a.statusBlock,children:[!c&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Status: "})," ",Object(p.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"----"})]}),c&&Object(p.jsx)("div",{className:f.a.statusChange,children:Object(p.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},onBlur:function(){o(!1),t.updateStatus(a)},autoFocus:!0,value:a})})]})},m=s(138),x=s(304),v=s.n(x),_=function(t){var e=t.contactTitle,s=t.contactValue;return Object(p.jsxs)("div",{className:v.a.contact,children:[" ",Object(p.jsxs)("b",{children:[e,": "]}),s]})},P=s(310),g=s.n(P),k=function(t){var e=t.profile,s=t.isOwner,c=t.changeToEditMode;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:g.a.profileBlock,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Full name:"})," ",e.fullName]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No"]}),e.lookingForAJob&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Skills:"})," ",e.lookingForAJobDescription]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(t){return Object(p.jsx)(_,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]}),Object(p.jsx)("div",{className:g.a.btnBlock,children:s&&Object(p.jsx)("div",{className:g.a.editInfoBtn,children:Object(p.jsx)("button",{onClick:c,children:"Edit"})})})]})},B=s(140),S=s(24),N=s(44),F=s.n(N),A=Object(B.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile,c=t.error;return Object(p.jsxs)("form",{onSubmit:e,className:v.a.profileForm,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Full name:"})," ",Object(S.c)("Full name","fullName",[],S.a)]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Looking for a job:"})," ",Object(S.c)("","lookingForAJob",[],S.a,{type:"checkbox"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Skills:"}),Object(S.c)("Skills","lookingForAJobDescription",[],S.b)]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me:"}),Object(S.c)("About me","aboutMe",[],S.b)]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts: "})," ",Object.keys(s.contacts).map((function(t){return Object(p.jsx)("div",{className:v.a.changeContact,children:Object(p.jsxs)("b",{children:[t,":",Object(S.c)(t,"contacts."+t,[],S.a)]})},t)}))]}),Object(p.jsx)("div",{className:v.a.saveBtn,children:Object(p.jsx)("button",{children:"Save"})}),c&&Object(p.jsx)("div",{className:F.a.formSummaryError,children:c})]})})),C=function(t){var e=t.profile,s=t.status,c=t.updateStatus,o=t.isOwner,i=t.savePhoto,n=t.saveProfile,a=Object(r.useState)(!1),l=Object(j.a)(a,2),d=l[0],h=l[1];if(!e)return Object(p.jsx)(b.a,{});return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:u.a.descriptionBlock,children:[Object(p.jsxs)("div",{className:u.a.imgBlock,children:[Object(p.jsx)("div",{className:u.a.mainPhoto,children:Object(p.jsx)("img",{src:e.photos.large||m.a})}),Object(p.jsx)("div",{className:u.a.changePhoto,children:o&&Object(p.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&i(t.target.files[0])}})})]}),Object(p.jsxs)("div",{className:u.a.infoBlock,children:[Object(p.jsx)("div",{children:Object(p.jsx)(O,{status:s,updateStatus:c})}),d?Object(p.jsx)(A,{initialValues:e,onSubmit:function(t){n(t).then((function(){h(!1)}))},profile:e}):Object(p.jsx)(k,{profile:e,isOwner:o,changeToEditMode:function(){h(!0)}})]})]})})},I=s(107),y=s(99),w=s(73),M=s(311),J=s.n(M),T=Object(w.a)(10),D=Object(B.a)({form:"addPost"})((function(t){return Object(p.jsx)("form",{onSubmit:t.handleSubmit,children:Object(p.jsxs)("div",{className:J.a.postForm,children:[Object(p.jsx)("div",{className:J.a.postText,children:Object(p.jsx)(y.a,{validate:[w.b,T],component:S.b,name:"newPostText",placeholder:"Type for a new post"})}),Object(p.jsx)("div",{className:J.a.addPostBtn,children:Object(p.jsx)("button",{children:"Add Post"})})]})})})),L=s(312),E=s.n(L),V=s(313),U=s.n(V),z=function(t){return Object(p.jsxs)("div",{className:U.a.item,children:[Object(p.jsxs)("div",{className:U.a.itemImg,children:[Object(p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwDsQHhnxB6CE5KsiVJXF28ONLgdEy9t0ZBg&usqp=CAU"}),Object(p.jsx)("div",{className:U.a.itemMessage,children:t.message})]}),Object(p.jsx)("div",{className:U.a.itemLikes,children:Object(p.jsxs)("span",{children:[Object(p.jsx)("b",{children:"Likes: "}),t.likesCounter]})})]})},q=l.a.memo((function(t){var e=t.posts.map((function(t){return Object(p.jsx)(z,{message:t.message,likesCounter:t.likesCounter},t.id)}));return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:E.a.postsBlock,children:[Object(p.jsx)("h3",{children:"My Posts"}),Object(p.jsx)(D,{onSubmit:function(e){t.addPost(e.newPostText)}})]}),Object(p.jsx)("div",{children:e})]})})),K=s(18),Q=Object(K.b)((function(t){return{posts:t.ProfilePage.posts}}),(function(t){return{addPost:function(e){t(Object(I.a)(e))}}}))(q),W=function(t){return Object(p.jsxs)("div",{children:[Object(p.jsx)(C,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),Object(p.jsx)(Q,{})]})},X=s(11),G=s(10),H=function(t){Object(n.a)(s,t);var e=Object(a.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"updateProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId),this.props.getProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.updateProfile()}},{key:"render",value:function(){return Object(p.jsx)(W,Object(c.a)(Object(c.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);e.default=Object(G.d)(Object(K.b)((function(t){return{profile:t.ProfilePage.profile,status:t.ProfilePage.status,authorizedUserId:t.Auth.userId,isAuth:t.Auth.isAuth}}),{getProfile:I.c,getStatus:I.d,updateStatus:I.g,savePhoto:I.e,saveProfile:I.f}),X.g)(H)}}]);
//# sourceMappingURL=3.b7431a6e.chunk.js.map